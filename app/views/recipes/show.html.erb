
<h1>Recipe Details</h1>

<div>
    <p>Preparation Time: <%= ((Time.current - @recipe.preparation_time.to_time) / 1.hour).to_i %> hr</p>
    <p>Cooking Time: <%= ((Time.current - @recipe.cooking_time.to_time) / 1.hour).to_i %> hr </p>
    <P> <%= @recipe.description %> </p>
</div>

<div>
<%# form for toggle public/private %>
</div>
<label class="flex items-center relative w-max cursor-pointer select-none">
  <span class="text-lg font-bold mr-3">Toggle</span>
  <input type="checkbox" class="appearance-none transition-colors cursor-pointer w-14 h-7 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-blue-500 bg-red-500" />
  <span class="absolute font-medium text-xs uppercase right-1 text-white"> OFF </span>
  <span class="absolute font-medium text-xs uppercase right-8 text-white"> ON </span>
  <span class="w-7 h-7 right-7 absolute rounded-full transform transition-transform bg-gray-200" />
</label>
<div class="flex justify-between">
    <%= link_to "Generate shopping list" , details_recipe_path(@recipe), class: "border border-blue-400 px-2 py-1 hover:bg-neutral-300" %>
    <% if can? :destroy, @recipe %>
      <%= link_to "Add ingredient" , new_ingredient_recipe_path(@recipe.id), class: "border border-blue-400 px-2 py-1 hover:bg-neutral-300" %>
    <% end %>
</div>

<div>
<table class="w-full text-center border-separate border-spacing-4">
  <thead>
    <tr>
      <th>Food</th>
      <th>Quantity</th>
      <th>Value</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @foods.each do |food| %>
      <tr>
          <td><%= food.name %></td>
          <td><%= food.quantity %></td>
          <td><%= food.price %></td>
          <% if can? :destroy, @recipe %>
            <td class="bg-red-600 text-white rounded-lg"><%= button_to "Delete", "/recipes/#{@recipe.id}/destroy/#{food.id}", method: :delete, data: {confirm: "Are you sure?"} %></td>
          <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
</div>